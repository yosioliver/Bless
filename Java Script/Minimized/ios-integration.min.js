function calliOSFunction(e,t,r,a){var n="js-frame:";if(a.functionname=e,t)if("function"==typeof t){var i=createCallbackFunction(e+"_successCallback",t);a.success=i}else a.success=t;if(r)if("function"==typeof r){var i=createCallbackFunction(e+"_errorCallback",r);a.error=i}else a.error=r;n+=JSON.stringify(a);var s=createIFrame(n);s.parentNode.removeChild(s)}function createCallbackFunction(e,t){if(t&&null!=t.name&&t.name.length>0)return t.name;if("function"!=typeof window[e+0])return window[e+0]=t,__functionIndexMap[e]=0,e+0;for(var r=__functionIndexMap[e],a=t.toString(),n=0;r>=n;n++){var i=e+n;if(window[i].toString()==a)return i}var s=++__functionIndexMap[e];return window[e+s]=t,e+s}function createIFrame(e){var t=document.documentElement,r=document.createElement("IFRAME");return r.setAttribute("src",e),t.appendChild(r),r}function onSuccess(e){if(e){var t=JSON.parse(e),r=Object.keys(t.result)[0];"readFromDB"==r&&getFromDatabase(t.result.readFromDB,stringPageTypeCurrent)}}function onError(e){if(e){JSON.parse(e)}}function readfromDB(){var e={};e.data={},e.data.SPAJAnswers={},e.data.SPAJAnswers.columns="elementID,Value,SPAJID,CustomerID",e.data.SPAJAnswers.where="",calliOSFunction("readfromDB:",onSuccess,onError,e)}function savetoDB(){var e,t,r=!0;stringPageSectionCurrent==stringPageSectionBeneficiariesList&&(0==r||1==intBeneficiariesListID||ReplaceHTMLNameOnValidate("",$label.text()+"Mohon masukkan minimal 1 orang calon penerima manfaat")),0==r||$("input:text[required]").each(function(){e=$(this).val();var t=$("label[for='"+this.id+"']");return void 0==e||null==e||""==e?(ReplaceHTMLNameOnValidate("",t.text()+" harap diisi."),r=!1,!1):void 0}),0==r||$("input:radio[required]").each(function(){e=getRadioButtonGeneral($(this).attr("name"));var a=$("label[for='"+this.name+"']");return t!=$(this).attr("name")&&void 0==e?(ReplaceHTMLNameOnValidate("",a.text()+" harap dipilih."),t=$(this).attr("name"),r=!1,!1):void 0});var a=!1;if(stringPageSectionCurrent==stringPageSectionForm&&stringPageTypeCurrent==stringPageTypeForm&&($("input:text[data-customvalidation='income']").each(function(){return $(this).val()>0?(a=!0,!1):void 0}),0==a&&(r=!1,ReplaceHTMLNameOnValidate("","Harap mengisi penghasilan kotor minimum satu jenis !."))),stringPageSectionCurrent==stringPageSectionBeneficiariesList)if(0==r);else if(100!=intSharePercentage)return ReplaceHTMLNameOnValidate("","Jumlah share percentage harus 100 !."),r=!1,!1;if(0==r);else{var n;stringPageSectionCurrent==stringPageSectionHealthQuestionnaire?n=arrayHealthQuestionnaire:stringPageSectionCurrent==stringPageSectionBeneficiariesList?(arrayAdd(arrayBeneficiariesList,"TextBeneficiariesListSharePercentage",getTextForm("TextBeneficiariesListSharePercentage")),n=arrayBeneficiariesList):n=setToDatabase(stringPageTypeCurrent);var i=JSONGenerator(n);calliOSFunction("savetoDB:",onSuccess,onError,i),arrayHealthQuestionnaire=[],arrayBeneficiariesList=[]}}function PrintData(){savetoDB()}function AutoPopulate(e){var t=JSON.parse(e),r=Object.keys(t.result)[0];"autopopulateFromDB"==r&&getFromDatabase(t.result.autopopulateFromDB,stringPageTypeCurrent)}function ReadData(){readfromDB()}function ReplaceHTMLNameOnValidate(e,t){var r={};r.data={},r.data.title=e,r.data.body=t,calliOSFunction("showAlert:",onSuccess,onError,r)}__functionIndexMap={};
